# 🛡️ 스트림 암호 기술 (Stream Cipher Technology)

이 레포지토리는 스트림 암호 기술에 관련된 다양한 개념과 알고리즘을 설명합니다. 스트림 암호는 메시지의 무결성, 기밀성, 부인 방지를 보장하는 중요한 암호 기술입니다.

## 📑 목차
1. 스트림 암호 개요
2. RC4
3. LFSR 기반 스트림 암호
4. 참고 문헌

## 스트림 암호 개요
스트림 암호는 일반적으로 한번에 평문 한 바이트씩 암호화를 수행합니다. 키 스트림 생성기의 출력인 키 스트림과 평문 스트림을 XOR하여 암호문 스트림을 생성합니다. 스트림 암호는 블록 암호 시스템보다 빠르게 동작하며 실시간 처리에 효율적입니다.

### 주요 특징
- **빠른 동작 속도**: 블록 암호에 비해 빠르게 동작합니다.
- **실시간 처리에 적합**: 실시간 데이터를 암호화하는 데 유리합니다.
- **예시**: RC4, A5/1, ChaCha20 등.

## RC4
RC4는 Ronald Rivest에 의해 설계된 바이트 지향 스트림 암호입니다. 여러 데이터 통신 및 네트워크 프로토콜에서 사용되었으나, 2015년 TLS에서의 사용이 금지되었습니다.

### RC4 알고리즘
1. **초기화**: 256바이트 크기의 상태 배열 `S`를 생성하고 초기화합니다.
2. **초기 순열 생성**: 비밀 키 배열을 사용하여 상태 배열의 값을 교환합니다.
3. **키 스트림 생성 및 암호화**: 상태 배열의 현재 상태에 기반하여 키 스트림을 생성하고, 이를 평문과 XOR하여 암호문을 생성합니다.

### 예제 코드
```java
public class RC4 {
    public static void main(String[] args) {
        int key[] = {0, 0, 0, 0};
        int P[] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};
        int N = 256;
        int C[] = RC4(N, key, P);
        System.out.println(Arrays.toString(C));
    }

    private static int[] RC4(int N, int[] key, int[] P) {
        int C[] = new int[P.length];
        int S[] = new int[N];
        for (int i = 0; i < N; i++) S[i] = i; // 상태 배열 초기화
        for (int i = 0, j = 0; i < N; i++) {
            j = (j + S[i] + key[i % key.length]) % N;
            swap(S, i, j); // 상태 배열 값 교환
        }
        for (int i = 0, j = 0, t = 0; t < P.length; t++) {
            i = (i + 1) % N;
            j = (j + S[i]) % N;
            swap(S, i, j); // 상태 배열 값 교환
            int k = S[(S[i] + S[j]) % N]; // 키 스트림의 다음 바이트 선택
            C[t] = P[t] ^ k; // 평문과 XOR 수행
        }
        return C;
    }

    private static void swap(int[] S, int i, int j) {
        int t = S[i]; S[i] = S[j]; S[j] = t;
    }
}
```

## LFSR 기반 스트림 암호
LFSR(선형 피드백 시프트 레지스터)은 이전 상태의 선형 함수로 입력값이 결정되는 쉬프트 레지스터입니다. 하드웨어 구현이 용이하며, A5/1과 같은 스트림 암호에 사용됩니다.

### 주요 특징
- **하드웨어 구현 용이**: 플립플롭과 피드백 경로로 구성되어 하드웨어 구현이 쉽습니다.
- **주기성**: m비트 LFSR의 최대 주기는 2^m - 1입니다.
- **예시**: A5/1

### LFSR 예제
- 4비트 LFSR의 경우 초기값이 0001이면 출력이 100010011010111 반복됩니다. 이 LFSR의 주기는 15입니다.
